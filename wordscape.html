<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Word Connect - Level 1</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="game-container">
  <div class="grid-container">
    <div id="grid">
      <div class="cell">W</div>
      <div class="cell">O</div>
      <div class="cell">R</div>
      <div class="cell">D</div>
    </div>
  </div>

  <div class="word-list">
    <h3>Found Words</h3>
    <ul id="found-words"></ul>
  </div>

  <canvas id="lineCanvas"></canvas>

  <div class="circle-container" id="letters">
    <div class="letter" data-letter="W">W</div>
    <div class="letter" data-letter="O">O</div>
    <div class="letter" data-letter="R">R</div>
    <div class="letter" data-letter="D">D</div>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>
body {
  margin: 0;
  overflow: hidden;
  font-family: "Poppins", sans-serif;
  background: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb') center/cover no-repeat;
}

.game-container {
  width: 100vw;
  height: 100vh;
  backdrop-filter: blur(8px);
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
}

.grid-container {
  position: absolute;
  top: 10%;
  display: flex;
  flex-direction: column;
  align-items: center;
}

#grid {
  display: grid;
  grid-template-columns: repeat(2, 70px);
  grid-gap: 10px;
}

.cell {
  width: 70px;
  height: 70px;
  background: rgba(255, 179, 71, 0.9);
  border-radius: 15px;
  color: white;
  font-size: 2em;
  font-weight: bold;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}

.word-list {
  position: absolute;
  top: 20%;
  right: 10%;
  background: rgba(0, 0, 0, 0.4);
  border-radius: 10px;
  padding: 15px;
  color: white;
}

#found-words {
  list-style: none;
  padding: 0;
}

.circle-container {
  position: absolute;
  bottom: 10%;
  width: 300px;
  height: 300px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
}

.letter {
  position: absolute;
  width: 80px;
  height: 80px;
  background: orange;
  border-radius: 50%;
  color: white;
  font-size: 2em;
  font-weight: bold;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  transition: 0.2s;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}

.letter:hover {
  transform: scale(1.1);
}

canvas {
  position: absolute;
  top: 0;
  left: 0;
}
const letters = document.querySelectorAll('.letter');
const canvas = document.getElementById('lineCanvas');
const ctx = canvas.getContext('2d');
const foundWords = document.getElementById('found-words');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const validWords = ["WORD", "ROW", "DO"];
let currentPath = [];
let drawnWord = "";
let found = [];

function drawLine() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.strokeStyle = 'rgba(255,255,255,0.8)';
  ctx.lineWidth = 6;
  ctx.lineCap = 'round';
  ctx.beginPath();
  currentPath.forEach((pos, i) => {
    if (i === 0) ctx.moveTo(pos.x, pos.y);
    else ctx.lineTo(pos.x, pos.y);
  });
  ctx.stroke();
}

function checkWord() {
  if (validWords.includes(drawnWord) && !found.includes(drawnWord)) {
    found.push(drawnWord);
    const li = document.createElement('li');
    li.textContent = drawnWord;
    foundWords.appendChild(li);
  }
}

let isDrawing = false;

letters.forEach((letter, index) => {
  const angle = (index / letters.length) * 2 * Math.PI;
  const radius = 120;
  letter.style.left = 150 + radius * Math.cos(angle) - 40 + 'px';
  letter.style.top = 150 + radius * Math.sin(angle) - 40 + 'px';

  letter.addEventListener('mousedown', start);
  letter.addEventListener('touchstart', start);
});

function start(e) {
  e.preventDefault();
  isDrawing = true;
  currentPath = [];
  drawnWord = "";
  ctx.clearRect(0, 0, canvas.width, canvas.height);
}

document.addEventListener('mousemove', move);
document.addEventListener('mouseup', end);
document.addEventListener('touchmove', move);
document.addEventListener('touchend', end);

function move(e) {
  if (!isDrawing) return;
  const x = e.touches ? e.touches[0].clientX : e.clientX;
  const y = e.touches ? e.touches[0].clientY : e.clientY;
  currentPath.push({ x, y });

  letters.forEach(letter => {
    const rect = letter.getBoundingClientRect();
    if (
      x > rect.left && x < rect.right &&
      y > rect.top && y < rect.bottom &&
      !drawnWord.includes(letter.dataset.letter)
    ) {
      drawnWord += letter.dataset.letter;
    }
  });

  drawLine();
}

function end() {
  if (isDrawing) {
    checkWord();
    drawnWord = "";
    currentPath = [];
    ctx.clearRect(0, 0, canvas.width, canvas.height);
  }
  isDrawing = false;
}
